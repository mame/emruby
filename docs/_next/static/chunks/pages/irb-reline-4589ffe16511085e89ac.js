_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{"HaE+":function(e,n,t){"use strict";function r(e,n,t,r,o,i,c){try{var a=e[i](c),s=a.value}catch(u){return void t(u)}a.done?n(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var c=e.apply(n,t);function a(e){r(c,o,i,a,s,"next",e)}function s(e){r(c,o,i,a,s,"throw",e)}a(void 0)}))}}t.d(n,"a",(function(){return o}))},aknp:function(e,n,t){e.exports=t.p+"static/chunks/2.47a918ffe0a6113c05ab.worker.js"},iKRg:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/irb-reline",function(){return t("qXtv")}])},o0o1:function(e,n,t){e.exports=t("ls82")},qXtv:function(e,n,t){"use strict";t.r(n),function(e){var r=t("o0o1"),o=t.n(r),i=t("nKUr"),c=t("HaE+"),a=t("q1tI"),s=t("g4pe"),u=t.n(s),l=t("YFqc"),d=t.n(l),f=t("Vvt1"),b=t.n(f),j=(t("q4sD"),t("q7KB"),b()((function(){return Promise.all([t.e(4),t.e(6)]).then(t.bind(null,"ufaf"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["ufaf"]},modules:["../components/Term"]}}));n.default=function(){Object(a.useEffect)((function(){"serviceWorker"in navigator?navigator.serviceWorker.register("".concat("/emruby","/sw.js")).then((function(e){console.log("COOP/COEP Service Worker registered: ",e.scope),e.active&&!navigator.serviceWorker.controller&&window.location.reload()}),(function(e){console.log("COOP/COEP Service Worker failed to register: ",e)})):console.warn("Cannot register COOP/COEP Service Worker")}),[]);var n=Object(a.useState)(),r=n[0],s=n[1],l=Object(a.useState)(Object(i.jsx)(i.Fragment,{children:"Status: Not initialized"})),f=l[0],b=l[1],p=Object(a.useCallback)((function(e){s(e)}),[]);return Object(a.useEffect)((function(){if(r)return function(){var n=Object(c.a)(o.a.mark((function n(){var c,a,s,u,l,d,f;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(16).then(t.t.bind(null,"fUx6",7));case 2:c=n.sent,a=c.openpty,s=c.TtyServer,u=new Worker(e,void 0),l=a(),d=l.master,f=l.slave,r.loadAddon(d),new s(f).start(u,(function(e){switch(e.data.type){case"status":b(Object(i.jsxs)(i.Fragment,{children:["Status: ",e.data.message]}));break;case"terminated":b(Object(i.jsx)(i.Fragment,{children:"Status: Terminated. Please reload this page to re-run irb."}))}}));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){r.dispose()}}),[r]),Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(u.a,{children:Object(i.jsx)("title",{children:"irb on WASM (very experimental)"})}),Object(i.jsx)("h1",{className:"mb-5",children:"irb on WASM (very experimental)"}),Object(i.jsx)("p",{children:"Note: This works on only Chrome before version 91"}),Object(i.jsx)("p",{children:f}),Object(i.jsx)("div",{id:"terminal"}),Object(i.jsx)(j,{onXterm:p,needFit:!1,needLocalEcho:!1}),Object(i.jsx)("p",{className:"mt-4",children:Object(i.jsx)(d.a,{href:"/",children:"Back to top"})})]})}}.call(this,t("aknp"))}},[["iKRg",0,2,5,1,3]]]);