_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{"09G7":function(e,t,n){e.exports=n.p+"static/chunks/0.98d62f10b36f27b5fa7d.worker.js"},"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,o,i,c){try{var a=e[i](c),s=a.value}catch(u){return void n(u)}a.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var c=e.apply(t,n);function a(e){r(c,o,i,a,s,"next",e)}function s(e){r(c,o,i,a,s,"throw",e)}a(void 0)}))}}n.d(t,"a",(function(){return o}))},iKRg:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/irb-reline",function(){return n("qXtv")}])},o0o1:function(e,t,n){e.exports=n("ls82")},qXtv:function(e,t,n){"use strict";n.r(t),function(e){var r=n("o0o1"),o=n.n(r),i=n("nKUr"),c=n("HaE+"),a=n("q1tI"),s=n("g4pe"),u=n.n(s),l=n("YFqc"),d=n.n(l),f=n("Vvt1"),b=n.n(f),j=(n("q4sD"),n("q7KB"),b()((function(){return Promise.all([n.e(4),n.e(6)]).then(n.bind(null,"ufaf"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["ufaf"]},modules:["../components/Term"]}}));t.default=function(){Object(a.useEffect)((function(){"serviceWorker"in navigator?navigator.serviceWorker.register("".concat("/emruby","/sw.js")).then((function(e){console.log("COOP/COEP Service Worker registered: ",e.scope),e.active&&!navigator.serviceWorker.controller&&window.location.reload()}),(function(e){console.log("COOP/COEP Service Worker failed to register: ",e)})):console.warn("Cannot register COOP/COEP Service Worker")}),[]);var t=Object(a.useState)(),r=t[0],s=t[1],l=Object(a.useState)(Object(i.jsx)(i.Fragment,{children:"Status: Not initialized"})),f=l[0],b=l[1],v=Object(a.useCallback)((function(e){s(e)}),[]);return Object(a.useEffect)((function(){if(r)return function(){var t=Object(c.a)(o.a.mark((function t(){var c,a,s,u,l,d,f;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(16).then(n.t.bind(null,"fUx6",7));case 2:c=t.sent,a=c.openpty,s=c.TtyServer,u=new Worker(e,void 0),l=a(),d=l.master,f=l.slave,r.loadAddon(d),new s(f).start(u,(function(e){switch(e.data.type){case"status":b(Object(i.jsxs)(i.Fragment,{children:["Status: ",e.data.message]}));break;case"terminated":b(Object(i.jsx)(i.Fragment,{children:"Status: Terminated. Please reload this page to re-run irb."}))}}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){r.dispose()}}),[r]),Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(u.a,{children:Object(i.jsx)("title",{children:"irb on WASM (very experimental)"})}),Object(i.jsx)("h1",{className:"mb-5",children:"irb on WASM (very experimental)"}),Object(i.jsx)("p",{children:"Note: This works on only Chrome before version 91"}),Object(i.jsx)("p",{children:f}),Object(i.jsx)("div",{id:"terminal"}),Object(i.jsx)(j,{onXterm:v,needFit:!1,needLocalEcho:!1}),Object(i.jsx)("p",{className:"mt-4",children:Object(i.jsx)(d.a,{href:"/",children:"Back to top"})})]})}}.call(this,n("09G7"))}},[["iKRg",0,2,5,1,3]]]);