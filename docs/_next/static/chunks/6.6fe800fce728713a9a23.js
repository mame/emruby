(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{EjMM:function(t,e,r){"use strict";r.r(e),r.d(e,"HistoryController",(function(){return s}));class s{constructor(t){this.size=t,this.entries=[],this.cursor=0}push(t){if(""===t.trim())return;t!=this.entries[this.entries.length-1]&&(this.entries.push(t),this.entries.length>this.size&&this.entries.pop(0),this.cursor=this.entries.length)}rewind(){this.cursor=this.entries.length}getPrevious(){const t=Math.max(0,this.cursor-1);return this.cursor=t,this.entries[t]}getNext(){const t=Math.min(this.entries.length,this.cursor+1);return this.cursor=t,this.entries[t]}}var i=r("jjNI");function n(t,e=!0){let r;const s=[],i=/\w+/g;for(;r=i.exec(t);)e?s.push(r.index):s.push(r.index+r[0].length);return s}function o(t,e){const r=n(t,!0).reverse().find((t=>t<e));return null==r?0:r}function h(t,e,r){let s=0,i=0;for(let n=0;n<e;++n){"\n"==t.charAt(n)?(i=0,s+=1):(i+=1,i>r&&(i=0,s+=1))}return{row:s,col:i}}function a(t,e){return h(t,t.length,e).row+1}function l(t){return null!=t.match(/[^\\][ \t]$/m)}function u(t){if(""===t.trim())return"";if(l(t))return"";return Object(i.parse)(t).pop()||""}function c(t,e){if(t.length>=e[0].length)return t;const r=t;t+=e[0].slice(t.length,t.length+1);for(let s=0;s<e.length;s++){if(!e[s].startsWith(r))return null;if(!e[s].startsWith(t))return r}return c(t,e)}e.default=class{constructor(t=null,e={}){this.term=t,this._handleTermData=this.handleTermData.bind(this),this._handleTermResize=this.handleTermResize.bind(this),this.history=new s(e.historySize||10),this.maxAutocompleteEntries=e.maxAutocompleteEntries||100,this._autocompleteHandlers=[],this._active=!1,this._input="",this._cursor=0,this._activePrompt=null,this._activeCharPrompt=null,this._termSize={cols:0,rows:0},this._disposables=[],t&&(t.loadAddon?t.loadAddon(this):this.attach())}activate(t){this.term=t,this.attach()}dispose(){this.detach()}detach(){this.term.off?(this.term.off("data",this._handleTermData),this.term.off("resize",this._handleTermResize)):(this._disposables.forEach((t=>t.dispose())),this._disposables=[])}attach(){this.term.on?(this.term.on("data",this._handleTermData),this.term.on("resize",this._handleTermResize)):(this._disposables.push(this.term.onData(this._handleTermData)),this._disposables.push(this.term.onResize(this._handleTermResize))),this._termSize={cols:this.term.cols,rows:this.term.rows}}addAutocompleteHandler(t,...e){this._autocompleteHandlers.push({fn:t,args:e})}removeAutocompleteHandler(t){const e=this._autocompleteHandlers.findIndex((e=>e.fn===t));-1!==e&&this._autocompleteHandlers.splice(e,1)}read(t,e="> "){return new Promise(((r,s)=>{this.term.write(t),this._activePrompt={prompt:t,continuationPrompt:e,resolve:r,reject:s},this._input="",this._cursor=0,this._active=!0}))}readChar(t){return new Promise(((e,r)=>{this.term.write(t),this._activeCharPrompt={prompt:t,resolve:e,reject:r}}))}abortRead(t="aborted"){null==this._activePrompt&&null==this._activeCharPrompt||this.term.write("\r\n"),null!=this._activePrompt&&(this._activePrompt.reject(t),this._activePrompt=null),null!=this._activeCharPrompt&&(this._activeCharPrompt.reject(t),this._activeCharPrompt=null),this._active=!1}println(t){this.print(t+"\n")}print(t){const e=t.replace(/[\r\n]+/g,"\n");this.term.write(e.replace(/\n/g,"\r\n"))}printWide(t,e=2){if(0==t.length)return println("");const r=t.reduce(((t,e)=>Math.max(t,e.length)),0)+e,s=Math.floor(this._termSize.cols/r),i=Math.ceil(t.length/s);let n=0;for(let o=0;o<i;++o){let e="";for(let i=0;i<s;++i)if(n<t.length){let s=t[n++];s+=" ".repeat(r-s.length),e+=s}this.println(e)}}applyPrompts(t){const e=(this._activePrompt||{}).prompt||"",r=(this._activePrompt||{}).continuationPrompt||"";return e+t.replace(/\n/g,"\n"+r)}applyPromptOffset(t,e){return this.applyPrompts(t.substr(0,e)).length}clearInput(){const t=this.applyPrompts(this._input),e=a(t,this._termSize.cols),r=this.applyPromptOffset(this._input,this._cursor),{col:s,row:i}=h(t,r,this._termSize.cols),n=e-i-1;for(var o=0;o<n;++o)this.term.write("\x1b[E");this.term.write("\r\x1b[K");for(o=1;o<e;++o)this.term.write("\x1b[F\x1b[K")}setInput(t,e=!0){e&&this.clearInput();const r=this.applyPrompts(t);this.print(r),this._cursor>t.length&&(this._cursor=t.length);const s=this.applyPromptOffset(t,this._cursor),i=a(r,this._termSize.cols),{col:n,row:o}=h(r,s,this._termSize.cols),l=i-o-1;this.term.write("\r");for(var u=0;u<l;++u)this.term.write("\x1b[F");for(u=0;u<n;++u)this.term.write("\x1b[C");this._input=t}printAndRestartPrompt(t){const e=this._cursor;this.setCursor(this._input.length),this.term.write("\r\n");const r=()=>{this._cursor=e,this.setInput(this._input)},s=t();null==s?r():s.then(r)}setCursor(t){t<0&&(t=0),t>this._input.length&&(t=this._input.length);const e=this.applyPrompts(this._input),r=(a(e,this._termSize.cols),this.applyPromptOffset(this._input,this._cursor)),{col:s,row:i}=h(e,r,this._termSize.cols),n=this.applyPromptOffset(this._input,t),{col:o,row:l}=h(e,n,this._termSize.cols);if(l>i)for(let h=i;h<l;++h)this.term.write("\x1b[B");else for(let h=l;h<i;++h)this.term.write("\x1b[A");if(o>s)for(let h=s;h<o;++h)this.term.write("\x1b[C");else for(let h=o;h<s;++h)this.term.write("\x1b[D");this._cursor=t}handleCursorMove(t){if(t>0){const e=Math.min(t,this._input.length-this._cursor);this.setCursor(this._cursor+e)}else if(t<0){const e=Math.max(t,-this._cursor);this.setCursor(this._cursor+e)}}handleCursorErase(t){const{_cursor:e,_input:r}=this;if(t){if(e<=0)return;const t=r.substr(0,e-1)+r.substr(e);this.clearInput(),this._cursor-=1,this.setInput(t,!1)}else{const t=r.substr(0,e)+r.substr(e+1);this.setInput(t)}}handleCursorInsert(t){const{_cursor:e,_input:r}=this,s=r.substr(0,e)+t+r.substr(e);this._cursor+=t.length,this.setInput(s)}handleReadComplete(){this.history&&this.history.push(this._input),this._activePrompt&&(this._activePrompt.resolve(this._input),this._activePrompt=null),this.term.write("\r\n"),this._active=!1}handleTermResize(t){const{rows:e,cols:r}=t;this.clearInput(),this._termSize={cols:r,rows:e},this.setInput(this._input,!1)}handleTermData(t){if(this._active){if(null!=this._activeCharPrompt)return this._activeCharPrompt.resolve(t),this._activeCharPrompt=null,void this.term.write("\r\n");if(t.length>3&&27!==t.charCodeAt(0)){const e=t.replace(/[\r\n]+/g,"\r");Array.from(e).forEach((t=>this.handleData(t)))}else this.handleData(t)}}handleData(t){if(!this._active)return;const e=t.charCodeAt(0);let r;if(27==e)switch(t.substr(1)){case"[A":if(this.history){let t=this.history.getPrevious();t&&(this.setInput(t),this.setCursor(t.length))}break;case"[B":if(this.history){let t=this.history.getNext();t||(t=""),this.setInput(t),this.setCursor(t.length)}break;case"[D":this.handleCursorMove(-1);break;case"[C":this.handleCursorMove(1);break;case"[3~":this.handleCursorErase(!1);break;case"[F":this.setCursor(this._input.length);break;case"[H":this.setCursor(0);break;case"b":r=o(this._input,this._cursor),null!=r&&this.setCursor(r);break;case"f":r=function(t,e){const r=n(t,!1).find((t=>t>e));return null==r?t.length:r}(this._input,this._cursor),null!=r&&this.setCursor(r);break;case"\x7f":r=o(this._input,this._cursor),null!=r&&(this.setInput(this._input.substr(0,r)+this._input.substr(this._cursor)),this.setCursor(r))}else if(e<32||127===e)switch(t){case"\r":""!=(s=this._input).trim()&&((s.match(/'/g)||[]).length%2!==0||(s.match(/"/g)||[]).length%2!==0||""==s.split(/(\|\||\||&&)/g).pop().trim()||s.endsWith("\\")&&!s.endsWith("\\\\"))?this.handleCursorInsert("\n"):this.handleReadComplete();break;case"\x7f":this.handleCursorErase(!0);break;case"\t":if(this._autocompleteHandlers.length>0){const t=this._input.substr(0,this._cursor),e=l(t),r=function(t,e){const r=Object(i.parse)(e);let s=r.length-1,n=r[s]||"";return""===e.trim()?(s=0,n=""):l(e)&&(s+=1,n=""),t.reduce(((t,{fn:e,args:i})=>{try{return t.concat(e(s,r,...i))}catch(n){return console.error("Auto-complete error:",n),t}}),[]).filter((t=>t.startsWith(n)))}(this._autocompleteHandlers,t);if(r.sort(),0===r.length)e||this.handleCursorInsert(" ");else if(1===r.length){const e=u(t);this.handleCursorInsert(r[0].substr(e.length)+" ")}else if(r.length<=this.maxAutocompleteEntries){const e=c(t,r);if(e){const r=u(t);this.handleCursorInsert(e.substr(r.length))}this.printAndRestartPrompt((()=>{this.printWide(r)}))}else this.printAndRestartPrompt((()=>this.readChar(`Display all ${r.length} possibilities? (y or n)`).then((t=>{"y"!=t&&"Y"!=t||this.printWide(r)}))))}else this.handleCursorInsert("    ");break;case"\x03":this.setCursor(this._input.length),this.term.write("^C\r\n"+((this._activePrompt||{}).prompt||"")),this._input="",this._cursor=0,this.history&&this.history.rewind()}else this.handleCursorInsert(t);var s}}},R9As:function(t,e,r){self,t.exports=(()=>{"use strict";var t={775:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FitAddon=void 0;var r=function(){function t(){}return t.prototype.activate=function(t){this._terminal=t},t.prototype.dispose=function(){},t.prototype.fit=function(){var t=this.proposeDimensions();if(t&&this._terminal){var e=this._terminal._core;this._terminal.rows===t.rows&&this._terminal.cols===t.cols||(e._renderService.clear(),this._terminal.resize(t.cols,t.rows))}},t.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var t=this._terminal._core;if(0!==t._renderService.dimensions.actualCellWidth&&0!==t._renderService.dimensions.actualCellHeight){var e=window.getComputedStyle(this._terminal.element.parentElement),r=parseInt(e.getPropertyValue("height")),s=Math.max(0,parseInt(e.getPropertyValue("width"))),i=window.getComputedStyle(this._terminal.element),n=r-(parseInt(i.getPropertyValue("padding-top"))+parseInt(i.getPropertyValue("padding-bottom"))),o=s-(parseInt(i.getPropertyValue("padding-right"))+parseInt(i.getPropertyValue("padding-left")))-t.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(o/t._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(n/t._renderService.dimensions.actualCellHeight))}}}},t}();e.FitAddon=r}},e={};return function r(s){if(e[s])return e[s].exports;var i=e[s]={exports:{}};return t[s](i,i.exports,r),i.exports}(775)})()},jjNI:function(t,e){e.quote=function(t){return t.map((function(t){return t&&"object"===typeof t?t.op.replace(/(.)/g,"\\$1"):/["\s]/.test(t)&&!/'/.test(t)?"'"+t.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(t)?'"'+t.replace(/(["\\$`!])/g,"\\$1")+'"':String(t).replace(/([A-z]:)?([#!"$&'()*,:;<=>?@\[\\\]^`{|}])/g,"$1\\$2")})).join(" ")};for(var r="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(",">>",">\\&","[&;()|<>]"].join("|")+")",s="|&;()<> \\t",i="(\\\\['\""+s+"]|[^\\s'\""+s+"])+",n='"((\\\\"|[^"])*?)"',o="'((\\\\'|[^'])*?)'",h="",a=0;a<4;a++)h+=(Math.pow(16,8)*Math.random()).toString(16);e.parse=function(t,e,s){var a=function(t,e,s){var a=new RegExp(["("+r+")","("+i+"|"+n+"|"+o+")*"].join("|"),"g"),l=t.match(a).filter(Boolean),u=!1;if(!l)return[];e||(e={});s||(s={});return l.map((function(t,e){if(!u){if(RegExp("^"+r+"$").test(t))return{op:t};for(var i="'",n='"',o="$",h=s.escape||"\\",a=!1,p=!1,m="",d=!1,f=0,_=t.length;f<_;f++){var g=t.charAt(f);if(d=d||!a&&("*"===g||"?"===g),p)m+=g,p=!1;else if(a)g===a?a=!1:a==i?m+=g:g===h?(f+=1,m+=(g=t.charAt(f))===n||g===h||g===o?g:h+g):m+=g===o?v():g;else if(g===n||g===i)a=g;else{if(RegExp("^"+r+"$").test(g))return{op:t};if(RegExp("^#$").test(g))return u=!0,m.length?[m,{comment:t.slice(f+1)+l.slice(e+1).join(" ")}]:[{comment:t.slice(f+1)+l.slice(e+1).join(" ")}];g===h?p=!0:m+=g===o?v():g}}return d?{op:"glob",pattern:m}:m}function v(){var e,r;if(f+=1,"{"===t.charAt(f)){if(f+=1,"}"===t.charAt(f))throw new Error("Bad substitution: "+t.substr(f-2,3));if((e=t.indexOf("}",f))<0)throw new Error("Bad substitution: "+t.substr(f));r=t.substr(f,e-f),f=e}else/[*@#?$!_\-]/.test(t.charAt(f))?(r=t.charAt(f),f+=1):(e=t.substr(f).match(/[^\w\d_]/))?(r=t.substr(f,e.index),f+=e.index-1):(r=t.substr(f),f=t.length);return c(null,"",r)}})).reduce((function(t,e){return void 0===e?t:t.concat(e)}),[]);function c(t,r,s){var i="function"===typeof e?e(s):e[s];return void 0===i&&""!=s?i="":void 0===i&&(i="$"),"object"===typeof i?r+h+JSON.stringify(i)+h:r+i}}(t,e,s);return"function"!==typeof e?a:a.reduce((function(t,e){if("object"===typeof e)return t.concat(e);var r=e.split(RegExp("("+h+".*?"+h+")","g"));return 1===r.length?t.concat(r[0]):t.concat(r.filter(Boolean).map((function(t){return RegExp("^"+h).test(t)?JSON.parse(t.split(h)[1]):t})))}),[])}},ufaf:function(t,e,r){"use strict";r.r(e);var s=r("nKUr"),i=r("q1tI"),n=r("/POA"),o=r("R9As"),h=r("EjMM").default;e.default=function(t){var e=t.onXterm,r=t.needFit,a=t.needLocalEcho,l=Object(i.useRef)(null),u=Object(i.useRef)(null);return Object(i.useEffect)((function(){var t,s=u.current;if(s){l.current||(l.current=new n.Terminal({convertEol:!0}));var i=l.current,c=null;r&&(c=new o.FitAddon,i.loadAddon(c));var p=null;return a&&(p=new h,i.loadAddon(p)),e(i,p),i.open(s),null===(t=c)||void 0===t||t.fit(),function(){a&&p&&p.detach(),i.dispose()}}}),[u,e,r,a]),Object(s.jsx)("div",{ref:u})}}}]);